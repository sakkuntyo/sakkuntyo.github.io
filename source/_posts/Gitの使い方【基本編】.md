---
title: 人でも中々理解できなかったGitの使い方
date: 2019-10-12 20:38:05
tags: [Git]
---

# 必要な基礎知識

- リポジトリ
  - リモートリポジトリ
    - 皆で操作するために作られる
  - ローカルリポジトリ
    - 自分が操作するために作られる
- ブランチ
  - リポジトリに含まれる機能
  - デフォルトでmasterブランチが作られる
  - ブランチ同士を突き合わせて差分を見てからマージを行う
- ワーキングツリー
  - 現在のファイルの状態
- インデックス
  - 現在のファイルの管理状態
  - git add "ファイル名" と操作を行うと、指定したファイルがステージング状態(コミットに含まれる状態)となる
  - インデックスをリセットしたい場合には、git resetする
  - 状態
    - ステージング
      - 次のコミットに含まれる状態
    - 非ステージング
      - 次のコミットに含まれない状態
    - 非トラッキング
      - ブランチ内で全く管理していない状態
- コミット
  - ファイルの状態を確定する操作
  - ログを見たり、以前の状態に戻す際に必要となる
- プッシュ
  - ローカルで変更されたブランチをリモートリポジトリに反映させる際に行う操作

# リポジトリ作成からプッシュまでの手順

基本的にはコマンドを使うことは無いかと思いますが、ここではコマンド操作による説明を行います。

## 1.リモートリポジトリを作成する

```cmd
> mkdir "プロジェクト名"
> cd "プロジェクト名"
> git init --bare
Initialized empty Git repository in /path/プロジェクト名/
```

## 2.リモートリポジトリを複製し、ローカルリポジトリを作成する

```cmd
> mkdir work
> cd work
> git clone "1で作成したフォルダのパス"
```

## 3.ブランチを分ける

```cmd
> git checkout -b "ブランチ名"
```

> **ポイント**
> checkout -bでは、ブランチの作成と切替を同時に行います。

## 4.現在のブランチを確認する

```cmd
> git branch -a -vvv
```

> **ポイント1** 
> *がついているブランチが現在選択中のブランチとなります。</p>

> **ポイント2** 
> remotesで始まる名前の物は、リモートリポジトリにあるブランチとなります。

> **注意** 
> masterブランチに１つもコミットが無い状態での
> ブランチ作成、切替を行った状態では、何も表示されない様です。

## 5.変更

ファイルを修正、追加するなどして変更を加えます

## 6.git add前に状態を確認

Untracked files(非トラッキング)となっている事がわかります。

```cmd
> git status
```

## 7.git addする

```cmd
> git add ""今回新規作成されたファイル"
```

## 8.ステージング後に状態を確認

Changes to be commited(ステージング)に含まれている事がわかります。

```cmd
> git status
```

## 9.変更を確定する

```cmd
> git commit -m "ログに残すメッセージ"
```

## 10.ログを確認する

```cmd
> git log
```

## 11.プッシュする

```cmd
> git push origin HEAD
```

> **ポイント**
> originとは、clone時に自動で作成されるリモートリポジトリのURLの名前となります。
> HEADとは、現在のブランチの最新コミットの状態を指します。
> この二つを組み合わせる事で、ブランチ名を指定する事なく、プッシュする事が可能です。
